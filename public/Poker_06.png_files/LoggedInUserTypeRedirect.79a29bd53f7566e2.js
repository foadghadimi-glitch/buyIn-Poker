"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{288932:(e,r,i)=>{i.r(r),i.d(r,{LoggedInUserTypeRedirect:()=>U});var t=i(515407),n=i(754725),s=i(323069),a=i(915834),o=i(117429),d=i(119349),l=i(946887),c=i(82281),u=i.n(c),p=i(455729);let{publicRuntimeConfig:{enterpriseBaseUrl:w,shutterstockBaseUrl:f}}=u()(),U=()=>{let e=(0,a.y)(),{isBrandEnterprise:r,isBrandSstk:i}=(0,s.P)(),c=(0,o.P)();return(0,p.useEffect)(()=>{if(e&&!c&&(!i||e.isEnterpriseUser)&&(!r||!e.isEnterpriseUser)){if(i&&e.isEnterpriseUser){if(window.location.href.includes(f)){window.NREUM?.addPageAction?.("UP3-1623 assign enterprise url to href",{...window.location||{},enterpriseBaseUrl:w,isBrandEnterprise:r,isBrandSstk:i,isEnterpriseUser:e.isEnterpriseUser,shutterstockBaseUrl:f}),window.location.href=window.location.href.replace(f,w);return}window.NREUM?.addPageAction?.("UP3-1623 force the experience into enterprise by reload",{...window.location||{},isBrandEnterprise:r,isBrandSstk:i,isEnterpriseUser:e.isEnterpriseUser,...e}),l.A.set(t.bE,t.w8),(0,d.Ld)("entCookieSet");return}if(r&&void 0!==e.userType&&!e.isEnterpriseUser){if(window.location.href.includes(w)){l.A.remove(n.eT),window.NREUM?.addPageAction?.("UP3-1623 force the experience into enterprise by setting the href",{...window.location||{},isBrandSstk:i,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser,enterpriseBaseUrl:w,shutterstockBaseUrl:f,...e}),window.location.href=window.location.href.replace(w,f);return}window.NREUM?.addPageAction?.("UP3-1623 force the experience into www by reload",{...window.location||{},isBrandSstk:i,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser,...e}),l.A.set(t.bE,t.Eq),(0,d.Ld)("sstkCookieSet")}console.log("UP3-1623 this is an unexpected scenario")}},[e,r,i,c]),null}},292634:(e,r,i)=>{i.d(r,{M:()=>w,g:()=>p});var t=i(487519),n=i(485650),s=i(610707),a=i(616715),o=i(287307),d=i(30721),l=i(531950),c=i(884378),u=i(12482);let p="useFetchOrganizationSettings",w=function(){let{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:r}=(0,d.rA)(),i={target:n.A_I,site_name:s.RJ,setting_type:n.A_I,...e};return(0,u.I)((0,o.Rt)({enabled:!!r?.id&&!!r?.organizationId,queryKey:[p,i],queryFn:()=>l.Bn.get((0,t.h_)({queryParams:i}).formattedUrl).then(e=>(0,c.A)(e.data)),staleTime:a.iW}))}},760135:(e,r,i)=>{i.d(r,{R:()=>c});var t=i(487519),n=i(287307),s=i(117429),a=i(531950),o=i(884378),d=i(293251),l=i(12482);let c=e=>{let r=(0,s.P)(),i=(0,d.jE)(),c={urlParams:{id:e},queryParams:{...r&&{accept_invite:1}}},u=(0,t.k0)(c).formattedUrl,{data:p,isLoading:w}=(0,l.I)((0,n.Rt)({queryKey:[u],queryFn:async()=>{let{data:e}=await a.Bn.get(u);return e?(0,o.A)(e):void 0},enabled:!!e}));return{data:p,isLoading:w,setQueryData:async e=>i.setQueryData([u],e)}}},915834:(e,r,i)=>{i.d(r,{y:()=>w});var t=i(559067),n=i(610707),s=i(726969),a=i(82281),o=i.n(a),d=i(292634),l=i(30721),c=i(760135);let u=/http.*.com/,{publicRuntimeConfig:{assets:{avatarThumbsUrl:p}}}=o()(),w=()=>{let{data:e,isLoading:r}=(0,l.rA)(),{data:i,isLoading:a}=(0,d.M)({queryParams:{site_name:n.ln}}),{data:o,isLoading:w,setQueryData:f}=(0,c.R)(e?.id),U={};if(e?.id&&o&&o?.length>=1){let r=`${e?.id}-${e?.organizationId}`,i=o?.find(e=>e?.id===r);i&&(U=i)}if(!e?.organizationId)return{...e,userType:e?.id?s.zv:void 0,isEnterpriseUser:!1,workspaces:o};if(r||w||a)return{};let g={},y=U?.type;if(e){let{roles:r=[]}=e;g={...g,...e,isAdmin:r.includes(t.lc)}}if(i){let{avatarOriginalUrl:e,avatarThumbnailUrl:r}=i;g={...g,avatarThumbnailUrl:r?.replace(u,p),avatarOriginalUrl:e}}return{...g,isEnterpriseUser:y===s.uX,userType:y,workspaces:o,teamName:U?.displayName,maxUsers:U?.maxUsers,currentUserWorkspace:U,updateCurrentUserWorkspaceName:e=>{f(r=>r.map(r=>r.id===U.id?{...r,displayName:e}:r))}}}}}]);
//# sourceMappingURL=LoggedInUserTypeRedirect.79a29bd53f7566e2.js.map